name: PR tests

on:
  pull_request:
    branches:    
      - main
  
jobs:
  test_on_pr:
    name: Test
    runs-on: ubuntu-latest
    env:
      GOPATH: ${{ github.workspace }}
      GOBIN: ${{ github.workspace }}/bin
    defaults:
      run:
        working-directory: ${{ env.GOPATH }}/src/XDC-Subnet
    steps:
    - name: Check out code
      uses: actions/checkout@v3
      with:
        path: ${{ env.GOPATH }}/src/XDC-Subnet
    - name: Set up Go 1.14.x
      uses: actions/setup-go@v4
      with:
        go-version: '1.14.x' # The Go version to download (if necessary) and use.
    - name: Run tests
      run: |
        go version
        go env
        make test
      env:
        GO111MODULE: auto
      
    
    